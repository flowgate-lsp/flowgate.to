import { useState } from 'react'
import { Copy, Check } from 'lucide-react'
import './index.css'
import LiquidityFlow from './components/LiquidityFlow'
import MechAnimation from './components/MechAnimation'
import ConnectionBox from './components/ConnectionBox'
import ProgressiveBackground from './components/ProgressiveBackground'

const NostrIcon = ({ size = 24, className = "" }) => (
    <svg 
        xmlns="http://www.w3.org/2000/svg" 
        width={size} 
        height={size} 
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        strokeWidth="2" 
        strokeLinecap="round" 
        strokeLinejoin="round" 
        className={className}
    >
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
        <path d="M12 10V8M8 12H6M16 12h2M12 14v2" opacity="0.5"/> 
        {/* Abstract "Network/Eye" representation commonly used when specific Ostrich logo isn't available in line sets */}
    </svg>
);

// Nostr Ostrich Icon (official)
const NostrOstrichIcon = ({ size = 24, className = "" }) => (
     <svg 
        width={size} 
        height={size} 
        viewBox="0 0 573 655" 
        className={className} 
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path transform="translate(524,10)" d="m0 0c1.2408 1.0066 2.4713 2.0263 3.6875 3.0625 7.2263 5.6139 17.319 7.8276 26.02 10.285 0.76127 0.21584 1.5225 0.43167 2.3069 0.65405 1.4513 0.40455 2.9062 0.79675 4.3647 1.1743 4.3581 1.1925 7.2948 2.7682 10.621 5.824l-10 2c2.4459 4.8918 4.1404 4.9678 9 7l1 3c-3.7033 1.2344-7.1504 1.1547-11.008 1.1758-1.6445 0.02325-3.2891 0.047369-4.9336 0.072266-2.5686 0.034671-5.1368 0.064204-7.7056 0.077881-20.644 1.78e-5 -20.644 1.78e-5 -39.353 7.6741-2.0481 4.0963-1.2464 8.2029 0.0625 12.438 3.9911 8.201 11.04 13.366 18.18 18.707 4.3502 3.2702 8.5558 6.7105 12.758 10.168 0.71785 0.58668 1.4357 1.1734 2.1753 1.7778 5.0916 4.1977 9.8009 8.611 14.137 13.597 0.51176 0.58137 1.0235 1.1627 1.5508 1.7617 1.1367 1.5508 1.1367 1.5508 1.1367 3.5508h2c3 5.75 3 5.75 3 8h2c9.6351 22.926 11.497 47.119 2.6094 70.688-1.4245 3.1789-2.9619 6.2441-4.6094 9.3125-0.71156 1.3941-0.71156 1.3941-1.4375 2.8164-5.8197 11.117-12.897 22.051-21.562 31.184h-2c-0.26812 0.63938-0.53625 1.2788-0.8125 1.9375-1.1875 2.0625-1.1875 2.0625-4.1875 3.0625v2c-1.3542 1.2935-1.3542 1.2935-3.2617 2.7578-1.0501 0.8086-1.0501 0.8086-2.1213 1.6335-0.76047 0.5721-1.5209 1.1442-2.3044 1.7336-0.77658 0.58822-1.5532 1.1764-2.3533 1.7825-6.4277 4.8104-13.047 9.008-19.959 13.093-2.9055 1.7762-5.7973 3.574-8.6875 5.375-1.0443 0.64425-1.0443 0.64425-2.1096 1.3015-2.6216 1.6306-5.0118 3.1324-7.2029 5.3235-0.34016 2.8615-0.34016 2.8615-0.34375 6.2305-0.028037 1.2711-0.056074 2.5422-0.084961 3.8518-0.011239 0.67113-0.022478 1.3423-0.034058 2.0337-0.46126 25.664-3.4242 46.2-22.537 64.884-7.6029 6.7639-15.66 11.915-25 16-1.0699 0.50145-2.1398 1.0029-3.2422 1.5195-21.164 9.3092-44.004 10.554-66.79 10.957-2.1628 0.039932-4.3251 0.091341-6.4875 0.14429-1.2695 0.025056-2.539 0.050112-3.8469 0.075928-3.7994 0.3168-7.0467 1.0163-10.634 2.303-1.2277 2.2326-1.2277 2.2326-2 5-3.7245 6.1637-7.9164 9.3343-14 13.062-5.6571 3.4944-10.035 6.5585-14 11.938-0.64324 0.84562-1.2865 1.6912-1.9492 2.5625-0.57363 0.80438-1.1473 1.6088-1.7383 2.4375-0.87205 1.2066-0.87205 1.2066-1.7617 2.4375-1.6805 2.7769-2.6346 5.4575-3.5508 8.5625 11.009-3.1499 21.931-6.537 32.828-10.057 6.121-1.9758 12.254-3.9018 18.405-5.7849 3.686-1.1334 7.3683-2.2781 11.05-3.4264 3.6057-1.1246 7.2124-2.2464 10.819-3.3683 1.846-0.57483 3.6917-1.1507 5.5371-1.7275 44.728-13.977 44.728-13.977 55.674-9.1987 7.9457 4.7974 12.716 12.903 17.34 20.68 2.9005 4.858 6.006 9.5826 9.0977 14.32 0.55518 0.85247 1.1104 1.7049 1.6824 2.5833 0.53279 0.81686 1.0656 1.6337 1.6145 2.4753 0.50708 0.77747 1.0142 1.5549 1.5366 2.356 1.2291 1.8638 2.4861 3.704 3.7524 5.5425 1.8877 2.9557 2.5053 5.1117 2.6641 8.6055-2 2-2 2-4.9375 2.0625-8.3345-1.4616-16.106-8.3708-22.062-14.062v-2c-0.99-0.33-1.98-0.66-3-1-4-4.4571-4-4.4571-4-7l-5 2c0.083789 0.92684 0.16758 1.8537 0.25391 2.8086 0.10184 1.1975 0.20367 2.3951 0.30859 3.6289 0.10441 1.195 0.20883 2.3899 0.31641 3.6211 0.039961 0.97066 0.079922 1.9413 0.12109 2.9414l-1 1c-4.6105 0-6.478-0.48958-9.8125-3.75-2.8334-4.4353-3.1919-9.3139-3.7305-14.457-0.19963-2.9247-0.19963-2.9247-2.457-4.793-7.9988-0.97154-15.234 0.45423-22.812 2.875-1.5105 0.46104-1.5105 0.46104-3.0515 0.9314-3.386 1.0425-6.7615 2.1145-10.136 3.1936-1.2734 0.40551-2.5469 0.81095-3.8203 1.2163-7.9091 2.5219-15.805 5.0826-23.699 7.6528-4.6131 1.4987-9.2316 2.9798-13.856 4.4434-0.73638 0.23324-1.4728 0.46648-2.2314 0.70679-5.8347 1.8341-11.707 3.529-17.585 5.217-4.7836 1.3975-9.3673 3.0552-13.926 5.0645-1.8828 0.69922-1.8828 0.69922-4.8828 0.69922v2c-13.06 7.1176-13.06 7.1176-20 7-2.5414-0.77749-4.6252-1.7631-7-3v-2c-0.99-0.33-1.98-0.66-3-1-2.9384-4.5387-3.4807-8.5881-3.375-13.875 0.0065259-0.706 0.013052-1.412 0.019775-2.1394 0.13732-5.3331 1.0256-9.2332 3.3552-13.986l1-3h2c0.086367-0.60586 0.17273-1.2117 0.26172-1.8359 1.5462-9.2207 5.4746-16.621 10.723-24.277 1.216-2.2589 1.6163-4.3652 2.0156-6.8867-5.1845 1.6922-10.359 3.4105-15.524 5.1621-1.5723 0.53206-3.146 1.0599-4.7217 1.582-8.5747 2.8602-15.896 6.1041-22.991 11.849-3.091 2.4655-6.2557 4.8347-9.406 7.2236-2.776 2.1061-5.5461 4.2197-8.3147 6.3354-3.8797 2.9623-7.766 5.9148-11.668 8.8477-0.89977 0.67934-1.7995 1.3587-2.7266 2.0586-1.8622 1.3651-3.7564 2.6872-5.6719 3.9766-5.9223 4.0337-9.6077 7.1354-11.977 13.965-3.3067 9.3981-9.499 16.074-18.375 20.625-3.1971 1.4953-5.0897 2.375-8.625 2.375l-1 3h-2c-0.18562 0.66-0.37125 1.32-0.5625 2-1.7595 3.672-4.1373 6.2495-6.8789 9.2305-1.6292 1.6977-1.6292 1.6977-2.5586 3.7695h-2l-0.8125 2.4375c-0.39188 0.84562-0.78375 1.6912-1.1875 2.5625-0.99 0.33-1.98 0.66-3 1-0.67708 1.6625-1.3412 3.3302-2 5-1.6246 2.2667-3.2623 4.4504-5 6.625-3.6249 4.5945-3.6249 4.5945-7 9.375h-2l-2 5h-2c-0.30938 0.78375-0.61875 1.5675-0.9375 2.375-1.0625 2.625-1.0625 2.625-2.0625 4.625h-2l-2 5h-2c-0.36738 1.0635-0.36738 1.0635-0.74219 2.1484-1.4275 3.2363-3.2192 5.6797-5.3828 8.4766-0.8131 1.0633-1.6256 2.1272-2.4375 3.1914-0.40863 0.53254-0.81727 1.0651-1.2383 1.6138-9.4057 12.263-9.4057 12.263-17.199 25.57h-2c-0.25008 0.69223-0.50016 1.3845-0.75781 2.0977-1.4269 3.3339-3.197 6.2639-5.1172 9.3398-0.67805 1.0918-1.3561 2.1837-2.0547 3.3086-0.6832 1.0738-1.3664 2.1476-2.0703 3.2539-0.66773 1.0557-1.3355 2.1115-2.0234 3.1992-1.7752 2.5154-3.3588 4.2483-5.7266 6.1758-7.7977 6.5992-16.623 14.371-21.25 23.625h-2c-0.26812 0.88688-0.53625 1.7738-0.8125 2.6875-1.1168 3.1154-2.4092 5.5383-4.1875 8.3125-1.8059 2.8594-3.2698 5.6105-4.5 8.75l-1.5 3.25c-0.99 0.33-1.98 0.66-3 1-4.2607-3.8484-4.8495-5.9898-5.2734-11.652-0.50594-15.099 4.0899-27.463 13.648-39.285 1.9344-2.0176 1.9344-2.0176 1.625-5.0625-0.68707 0.10699-1.3741 0.21398-2.082 0.32422-0.90105 0.11988-1.8021 0.23977-2.7305 0.36328-0.89332 0.12762-1.7866 0.25523-2.707 0.38672-2.4805-0.074219-2.4805-0.074219-4.3086-1.418-1.1719-1.6562-1.1719-1.6562-1.1094-3.8438 2.9637-8.8912 7.2262-14.836 15.703-19.254 6.0704-2.6618 12.156-4.4429 18.641-5.7852 2.7604-0.82314 4.3599-2.0001 6.5938-3.7734h2c0.26297-0.73734 0.52594-1.4747 0.79688-2.2344 1.2073-2.7753 2.5388-4.6874 4.4531-7.0156 3.1206-3.8763 5.8552-7.8775 8.4883-12.098 0.62455-0.81791 0.62455-0.81791 1.2617-1.6523h2c0.25395-0.7077 0.50789-1.4154 0.76953-2.1445 1.3483-3.1289 3.0035-5.7258 4.918-8.543 0.7077-1.0441 1.4154-2.0883 2.1445-3.1641 2.5549-3.7104 5.1242-7.4098 7.7227-11.09 1.1723-1.6697 2.3136-3.3611 3.4453-5.0586h2c0.11602-0.57621 0.23203-1.1524 0.35156-1.7461 0.69872-2.4287 1.6701-4.1879 3.0234-6.3164 0.42023-0.6716 0.84047-1.3432 1.2734-2.0352 1.3516-1.9023 1.3516-1.9023 2.7576-3.2673 1.7387-1.7835 3.0591-3.6316 4.4495-5.6975 0.53641-0.79173 1.0728-1.5835 1.6255-2.3992 0.56316-0.83765 1.1263-1.6753 1.7065-2.5383 3.7066-5.4856 7.4401-10.91 11.438-16.188 3.5985-4.9036 5.4564-9.4261 7.0352-15.246 2.6072-9.3601 6.4201-15.796 14.34-21.566 2.5723-1.3802 5.2361-2.4617 7.9375-3.5625 8.9719-3.9342 15.932-9.4889 23.271-15.891 2.5842-2.2319 5.2497-4.3513 7.916-6.4844 2.9701-2.4207 5.7702-4.8746 8.4375-7.625l2.4375-2.4375h2l2-4h2l0.79688-1.7656c1.2602-2.3404 2.6593-4.029 4.4531-5.9844 2.4725-2.7784 4.8897-5.5746 7.1875-8.5 0.49371-0.62391 0.98742-1.2478 1.4961-1.8906 1.3981-2.0804 1.3981-2.0804 1.0664-5.8594-1.1196-0.29391-1.1196-0.29391-2.2617-0.59375-3.3245-0.87946-6.6465-1.7677-9.9673-2.6611-2.0175-0.5425-4.0355-1.0833-6.0537-1.623-36.854-9.8822-36.854-9.8822-53.717-18.122l-3.5-1.6562c-5.9989-2.8776-11.644-5.7747-16.754-10.082-6.3948-4.6209-13.763-3.8071-21.205-2.7881-3.7802 0.65025-7.5341 1.3782-11.291 2.1514-0.66496 0.13605-1.3299 0.27209-2.015 0.41226-15.173 3.1334-27.626 8.0948-40.718 16.444-5.7628 3.5577-5.7628 3.5577-10.075 3.3352-1.2085-0.40412-1.2085-0.40412-2.4414-0.81641-2.7574-8.2722-0.69704-16.079 2.125-24.055 0.84178-2.8335 1.0481-5.0135 0.875-7.9453-6.5383 0.12278-9.6879 3.9121-14.062 8.25-0.69416 0.66902-1.3883 1.338-2.1035 2.0273-3.6533 3.5319-7.2511 7.1195-10.834 10.723-1 1-1 1-3.375 1.25-2.625-0.25-2.625-0.25-4.375-1.5625-3.3712-4.5512-2.8113-10.328-2.25-15.688 3.4191-15.419 3.4191-15.419 6-18 0.040638-1.6662 0.042721-3.3339 0-5-7.6777 0.13237-13.141 2.814-19.766 6.4062-2.8735 1.4159-5.0664 2.2792-8.2344 2.5938l-2-1c-1.3453-17.489 10.42-33.216 21-46 15.623-15.805 36.043-25.296 58.312-25.438 6.3056 0.067374 12.045 0.91033 18.117 2.7031 3.5128 1.0037 6.9402 1.3853 10.57 1.7344-0.16758-0.68707-0.33516-1.3741-0.50781-2.082-0.30551-1.3516-0.30551-1.3516-0.61719-2.7305-0.20883-0.89332-0.41766-1.7866-0.63281-2.707-0.24219-2.4805-0.24219-2.4805 1.7578-5.4805 1.8945-0.36508 1.8945-0.36508 4.2366-0.35303 0.88098-0.0038773 1.762-0.0077545 2.6696-0.011749 0.96036 0.0095169 1.9207 0.019034 2.9102 0.028839 2.0536-0.0084529 4.1073-0.017932 6.1609-0.02832 1.0767-8.4595e-4 2.1534-0.0016919 3.2628-0.0025635 23.096-0.056854 45.432-0.70009 66.76-10.633 1.3176-0.59277 2.6353-1.1852 3.9531-1.7773 7.0878-3.2301 14.011-6.7016 20.859-10.41 33.851-18.207 70.198-33.093 108.69-37.062 0.77577-0.080164 1.5515-0.16033 2.3508-0.24292 42.591-3.8834 77.232 9.3278 112.13 32.223 6.1102 3.8336 12.013 4.3457 19.133 2.8164 1.262-0.36503 2.5237-0.73092 3.7852-1.0977 4.9607-1.0584 10.491-0.99929 15.45 0.044189 14.258 2.7202 28.361 1.3988 40.601-6.3606 9.9779-6.8382 18.284-16 21.055-28.133 2.0621-18.066 1.0189-31.765-10.266-46.672-4.7093-5.8478-10.516-10.183-16.734-14.328v-2l-1.8125-0.3125c-2.5478-0.80075-3.3366-1.8006-5.1875-3.6875-1.277-0.97779-2.5697-1.9354-3.875-2.875-8.5259-6.3277-8.5259-6.3277-10.125-11.125-0.59941-0.29648-1.1988-0.59297-1.8164-0.89844-9.4808-4.7828-15.907-19.481-19.184-29.102-5.2278-15.885-4.3245-34.027 3.25-49.125 3.5332-5.5815 8.0909-9.763 14.188-12.312 13.277-2.0964 22.464 2.2434 33.562 9.4375z" />
    </svg>
)


function App() {
  const connectionString = import.meta.env.VITE_CONNECTION_STRING || "03f9c2b19d0f98217d7a89d45bacf48fc62e0b8643bda067dfd013ae5130da812f@67.217.60.92:5521" // Fallback to hardcoded if env missing

  return (
    <>
      <ProgressiveBackground />
      <LiquidityFlow />
      <MechAnimation />
      
      <div className="scroll-mask-wrapper">
        <div className="container">
          <h1>Flowgate</h1>
          <p className="subtitle">The Multiplanetary Lightning Liquidity Service Provider</p>
          
          <div className="info-section">
              <ConnectionBox connectionString={connectionString} />
          </div>

          <div className="info-section">
               <div className="section-header">
                  <h2 className="glow-text">
                      COMPLIANT WITH THE <a href="https://github.com/lightning/blips.git" target="_blank" rel="noreferrer" className="highlight-link">LSPS</a> SPECIFICATIONS
                  </h2>
               </div>
               
               <div className="lsps-grid">
                 <div className="hud-panel feature-card">
                    <h3 className="card-title">ORDER INBOUND LIQUIDITY</h3>
                    <p className="card-desc">
                      Purchase liquidity on-demand through LSPS1. Select your desired channel capacity and duration, and our automated LSP will instantly provision a customized inbound channel to your node.
                    </p>
                 </div>
                 
                 <div className="hud-panel feature-card">
                    <h3 className="card-title">JIT PAYMENTS</h3>
                    <p className="card-desc">
                       Receive funds instantly without pre-existing channels using LSPS2. Just-In-Time (JIT) channels are negotiated automatically when a payment arrives, ensuring zero-downtime operations.
                    </p>
                 </div>
               </div>
          </div>

          <div className="info-section" style={{ minHeight: 'auto', padding: '1rem 0' }}>
              <div className="social-row">
                  <a href={`https://jump.ohstr.com/${import.meta.env.VITE_FLOWGATE_NOSTR || 'npub1nurq8dzfa4qd7qxvvffzwne94htgdl4rr0cyd0fcat56qt92apfss8rlf8'}`} target="_blank" rel="noreferrer" className="social-icon">
                      <NostrOstrichIcon size={32} />
                  </a>
              </div>
          </div>
      </div>
      </div>


    </>
  )
}



export default App
